<app-dialog-page-header [title]="title"></app-dialog-page-header>

<form [formGroup]="projectForm" autocomplete="off">
    <mat-dialog-content>

        <mat-card-content>
            <div class="row">
                <div class="row">

                    <div class="col-md-12">
                        <mat-form-field>
                            <mat-label>Project Name</mat-label>
                            <input matInput formControlName="name" type="text" placeholder="Project Code" />
                            <mat-error>This is required field!</mat-error>
                        </mat-form-field>
                    </div>

                </div>

            
                <div class="row">

                    <div class="col-md-6">
                        <mat-form-field>
                            <mat-label>Project Sponsor/Funder</mat-label>
                             <mat-select formControlName="projectSponsorId">
                                <mat-option *ngFor="let sponsor of sponsors" [value]="sponsor.id">{{sponsor.name}}</mat-option>
                             </mat-select>
                            <mat-error>This field is required!</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <mat-label>Project Duration(Months)</mat-label>
                            <input matInput formControlName="duration" type="number" placeholder="Enter Duration in months" />
                            <mat-error>This is required field!</mat-error>
                        </mat-form-field>
                    </div>

                </div>
           <div class="row">
                    <div class="col-6">
                        <mat-form-field>
                            <mat-label>Region</mat-label>
                            <mat-select formControlName="region">
                                <mat-option *ngFor="let region of regions" (click)="onRegionChange(region)"
                                    [value]="region">{{ region.name
                                    }}</mat-option>
                            </mat-select>
                            <mat-error>This field is required!</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="col-6">
                        <mat-form-field>
                            <mat-label>Select Council</mat-label>
                            <mat-select formControlName="councilsCodes">
                                <mat-option *ngFor="let council of councils" (click)="onCouncilChange(council)" [value]="council.code">{{
                                    council.name
                                    }}</mat-option>
                            </mat-select>
                            <mat-error>This field is required!</mat-error>
                        </mat-form-field>
                    </div>
<!-- <div class="col-2">
    <app-button class="button" (click)=selectCouncil() buttonName="Add" _icon="ri-add-line align-bottom me-1"> </app-button>

</div> -->
                </div>
            </div>
<hr>
<div class="row" style="border: 1px;">
<mat-chip-set aria-label="Council selection">
  <mat-chip *ngFor="let council of councilSelected">{{council.name}}
  <button (click)="removeCouncil(council)" matChipRemove [attr.aria-label]="'remove ' + council.name">
          <mat-icon>cancel</mat-icon>
        </button>
  </mat-chip>
</mat-chip-set>

<hr>
</div>
     <app-button class="button" (click)=save(projectForm.value) buttonName="Save" _icon="ri-add-line align-bottom me-1"> </app-button>

        </mat-card-content>

    </mat-dialog-content>
</form>